<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="com.guozha.buyserver.persistence.mapper.SysSellerMapper">

    <resultMap id="findByUserIdRM" type="com.guozha.buyserver.web.controller.account.SearchMySellerResponse">
        <result property="mySellerId" jdbcType="INTEGER" column="MY_SELLER_ID"/>
        <result property="sellerId" jdbcType="INTEGER" column="SELLER_ID"/>
        <result property="sellerName" jdbcType="VARCHAR" column="SELLER_NAME"/>
        <result property="logo" jdbcType="BLOB" column="LOGO"/>
        <result property="mainBusi" jdbcType="VARCHAR" column="MAIN_BUSI"/>
        <result property="sellerTag" jdbcType="VARCHAR" column="SELLER_TAG"/>
	</resultMap>

    <select id="findByUserId" parameterType="java.lang.Integer" resultMap="findByUserIdRM">
        SELECT 
            T1.SELLER_ID,
            T1.SELLER_NAME,
            T1.LOGO,
            T1.MAIN_BUSI,
            T2.MY_SELLER_ID,
            T2.SELLER_TAG 
        FROM 
            SYS_SELLER T1,
            ACC_MY_SELLER T2
        WHERE 
            T1.SELLER_ID = T2.SELLER_ID
            AND T2.USER_ID = #{userId}
        ORDER BY T2.SELLER_TAG,T1.SELLER_ID
    </select>
    
</mapper>